# Split-Images-into-multiple-channels-by-K-Means
By K-Means Clustering using OpenCV-Python an image can be broken up or split into multiple channels (user defined), where each channel represents a single color group extracted from the image. The main purpose of this repository is to create a mask of 13 channels from already segmented images. However, it can be used for other applications such as simple color extraction. 

# Code Example
The following shows an example of the functions. The same results can be generated by running test.py

```python
import cv2
import math
import numpy as np 
from PIL import Image
import matplotlib.pyplot as plt
from sklearn.cluster import KMeans
from utils import color_masking, plot_masks

image = np.array(Image.open('images/original.png'))

K = 13
result, channel = color_masking(image, K)
combined = plot_masks(192, 192, K, channel)


```
# Results 

### Original Segmented Image

![Original Segmented Image](/images/original.png)


### Separated Channels/Classes/Colors using Clusters = 13

#### Channel 1 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Channel 2
![1st Channel Segmented Image](/images/channel1.png)      ![2nd Channel Segmented Image](/images/channel2.png) 

#### Channel 2                           Channe l


#### Channel 3
![3rd Channel Segmented Image](/images/channel3.png) 

#### Channel 4
![4th Channel Segmented Image](/images/channel4.png) 

#### Channel 5
![5th Channel Segmented Image](/images/channel5.png) 

#### Channel 6
![6th Channel Segmented Image](/images/channel6.png)

#### Channel 7
![7th Channel Segmented Image](/images/channel7.png)  

#### Channel 8
![8th Channel Segmented Image](/images/channel8.png) 

#### Channel 9
![9th Channel Segmented Image](/images/channel9.png)  

#### Channel 10
![10th Channel Segmented Image](/images/channel10.png) 

#### Channel 11
![11th Channel Segmented Image](/images/channel11.png) 

#### Channel 12
![12th Channel Segmented Image](/images/channel12.png) 

#### Channel 13
![13th Channel Segmented Image](/images/channel13.png)

### Finally, all the channels are combined together and displayed below, note & compare the original segmented image to the resultant image shown below

#### Original
![Original Segmented Image](/images/original.png)

#### Combined Channels by K-Means (1-13)
![Combined Results Image](/images/combined_results.png)

